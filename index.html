<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pokémon Usage Graphic Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@zumer/snapdom/dist/snapdom.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@400;600;700&display=swap" rel="stylesheet" />
    <style>
        body {
            font-family: Verdana, Arial, sans-serif;
            font-weight: 400;
            background: linear-gradient(#bcd7f7, #a8c7ef);
            background-attachment: fixed;
        }
        /* League Spartan for the graphic ONLY */
        #graphic-output {
            font-family: 'League Spartan', Arial, sans-serif;
            font-weight: 700;
            background: linear-gradient(145deg, #eb4034, #1e0c42, #baab06);
            text-shadow:
                -3px -3px 0 #000,
                 3px -3px 0 #000,
                -3px  3px 0 #000,
                 3px  3px 0 #000,
                -3px  0px 0 #000,
                 3px  0px 0 #000,
                 0px -3px 0 #000,
                 0px  3px 0 #000,
                 0px  2px 4px rgba(0,0,0,0.7);
        }

        .pokemon-sprite {
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
        }
        .top-pokemon-text {
            width: 180px;
        }
        .picon {
          width: 40px;
          height: 30px;
          overflow: hidden;
          display: inline-block;
          background-image: url("https://generationssd.co.uk/sprites/pokemonicons-sheet.png");
          background-repeat: no-repeat;
      }
      /* make user-entered capitals slightly larger */
      .cap {
        display: inline-block;
        transform-origin: center;
        transform: scale(1.21); /* tune this number */
        line-height: 1;
        vertical-align: baseline;
        /* and these ones */
        margin-left: 0.05em;
        margin-right: 0.125em;
      }
      
      /* -----------------------------------------------------------
         Pokémon Showdown–style UI theme
      ----------------------------------------------------------- */
      
      /* PS-style white panels */
      .ps-panel {
          background: #f8f8f8;
          border: 1px solid #d0d0d0;
          border-radius: 8px;
          box-shadow: 2px 2px 6px rgba(0,0,0,0.25);
          padding: 16px;
      }
      
      /* PS-style header bars */
      .ps-header {
          background: linear-gradient(#e7e7e7, #dcdcdc);
          border: 1px solid #bdbdbd;
          border-radius: 6px;
          padding: 6px 10px;
          font-weight: bold;
          color: #444;
          box-shadow: inset 0 1px 0 #fefefe;
          margin-bottom: 10px;
      }
      
      /* PS-style inputs */
      .ps-input {
          border: 1px solid #bbb;
          border-radius: 4px;
          background: #fff;
          padding: 6px 8px;
          width: 100%;
          box-shadow: inset 1px 1px 3px rgba(0,0,0,0.08);
      }
      
      /* PS primary button */
      .ps-btn {
          background: linear-gradient(#9dc9ff, #5b9fff);
          border: 1px solid #3b73c4;
          color: #fff;
          padding: 8px 12px;
          border-radius: 6px;
          font-weight: bold;
          text-shadow: 0px 1px 0px rgba(0,0,0,0.4);
          cursor: pointer;
      }
      .ps-btn:hover {
          background: linear-gradient(#aed4ff, #6aadff);
      }
      
      /* PS secondary button */
      .ps-btn-secondary {
          background: linear-gradient(#ececec, #d6d6d6);
          border: 1px solid #b1b1b1;
          color: #333;
          padding: 8px 12px;
          border-radius: 6px;
          font-weight: bold;
      }
      .ps-btn-secondary:hover {
          background: linear-gradient(#f5f5f5, #dfdfdf);
      }
      
      /* Pokémon input blocks */
      .ps-input-block {
          border: 1px solid #d2d2d2;
          padding: 10px;
          border-radius: 6px;
          background: #fcfcfc;
          box-shadow: inset 0 1px 2px rgba(0,0,0,0.05);
      }
      
      .ps-input[type="color"] {
          width: 60px;
          height: 36px;
          padding: 0;
          border-radius: 4px;
          border: 1px solid #bbb;
          cursor: pointer;
      }

    </style>
</head>
<body class="bg-gray-100"> <!-- Removed font-sans class -->

    <div class="container mx-auto p-4 lg:p-8">
        <div class="ps-panel mb-8">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">Pokémon Usage Graphic Generator</h1>
            <p class="text-gray-600">Create your own Pokémon usage statistics graphic with this tool by filling in the details. Made by mmtaccos</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Controls Column -->
            <div class="lg:col-span-1 ps-panel">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-3">Controls</h2>
                
                <div class="space-y-6">
                    <div>
                        <label for="title-text" class="block text-sm font-medium text-gray-700 mb-1">First Title Line</label>
                        <input type="text" id="title-text" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500" value="Usage Stats Title">
                    </div>

                    <div>
                        <label for="subtitle-text" class="block text-sm font-medium text-gray-700 mb-1">Second Title Line</label>
                        <input type="text" id="subtitle-text" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500" value="Usage Stats Subtitle">
                    </div>
                    
                    <div>
                        <label for="pokemon-count" class="block text-sm font-medium text-gray-700 mb-1">Number of Pokémon</label>
                        <input type="number" id="pokemon-count" class="w-full p-2 border border-gray-300 rounded-md shadow-sm" value="35" min="1" max="99">
                    </div>

                    <div id="pokemon-inputs" class="space-y-4 max-h-96 overflow-y-auto pr-2">
                        <!-- Pokémon inputs will be generated here by JavaScript -->
                    </div>
                    
                    <div class="flex space-x-4 mt-6">
                        <button id="generate-btn" class="w-full ps-btn">
                            Generate Graphic
                        </button>
                        <button id="download-btn" class="w-full ps-btn">
                            Download as PNG (wip)
                        </button>
                    </div>

                    <!-- Save/Load Section -->
                    <div class="mt-8 pt-6 border-t border-gray-200">
                        <h2 class="text-2xl font-bold text-gray-800 mb-4">Save/Load Data</h2>
                        <textarea id="data-textarea" class="w-full p-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 mb-4" rows="10" placeholder="Pokémon data will appear here or can be pasted here. Format: DisplayName Usage%"></textarea>
                        <div class="flex space-x-4">
                            <button id="save-data-btn" class="w-full ps-btn-secondary">
                                Save Data
                            </button>
                            <button id="load-data-btn" class="w-full ps-btn-secondary">
                                Load Data
                            </button>
                        </div>
                    </div>

                    <!-- Color Customizer Section -->
                    <div class="mt-8 pt-6 border-t border-gray-200">
                        <h2 class="text-2xl font-bold text-gray-800 mb-4">Color Customizer</h2>

                        <div class="space-y-4">
                            <div>
                                <label for="color-bg1" class="block text-sm font-medium text-gray-700 mb-1">Background Gradient Color 1 (top)</label>
                                <input type="color" id="color-bg1" class="ps-input" value="#eb4034" />
                            </div>
                            <div>
                                <label for="color-bg2" class="block text-sm font-medium text-gray-700 mb-1">Background Gradient Color 2 (middle)</label>
                                <input type="color" id="color-bg2" class="ps-input" value="#1e0c42" />
                            </div>
                            <div>
                                <label for="color-bg3" class="block text-sm font-medium text-gray-700 mb-1">Background Gradient Color 3 (bottom)</label>
                                <input type="color" id="color-bg3" class="ps-input" value="#baab06" />
                            </div>

                            <div>
                                <label for="color-title" class="block text-sm font-medium text-gray-700 mb-1">Main Title Color</label>
                                <input type="color" id="color-title" class="ps-input" value="#ffffff" />
                            </div>
                            <div>
                                <label for="color-subtitle" class="block text-sm font-medium text-gray-700 mb-1">Subtitle Color</label>
                                <input type="color" id="color-subtitle" class="ps-input" value="#d1d5db" />
                            </div>

                            <div>
                                <label for="color-rank" class="block text-sm font-medium text-gray-700 mb-1">Rank Numbers Color</label>
                                <input type="color" id="color-rank" class="ps-input" value="#a1a1aa" />
                            </div>
                            <div>
                                <label for="color-name" class="block text-sm font-medium text-gray-700 mb-1">Pokémon Names Color</label>
                                <input type="color" id="color-name" class="ps-input" value="#ffffff" />
                            </div>
                            <div>
                                <label for="color-usage" class="block text-sm font-medium text-gray-700 mb-1">Percentages Color</label>
                                <input type="color" id="color-usage" class="ps-input" value="#d1d5db" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Output Column -->
            <div class="lg:col-span-2">
                <div id="graphic-container" class="bg-white p-4 rounded-xl shadow-lg flex items-center justify-center">
                    <div id="graphic-output" class="w-[800px] text-white p-8 rounded-lg shadow-2xl overflow-hidden">
                        <!-- Graphic will be rendered here -->
                    </div>
                </div>
                 <p class="text-center text-gray-500 text-sm mt-4">
                    Note: Some forms may require specific naming (e.g. "ogerpon-wellspring", "landorus-therian", "slowking-galar"). You can view the sprite name for any Pokémon at this website: https://play.pokemonshowdown.com/sprites/home-centered/
                </p>
            </div>
        </div>
    </div>

    <script>
        'use strict';

        // DOM Elements
        const titleTextInput = document.getElementById('title-text');
        const subtitleTextInput = document.getElementById('subtitle-text');
        const pokemonCountInput = document.getElementById('pokemon-count');
        const pokemonInputsContainer = document.getElementById('pokemon-inputs');
        const generateBtn = document.getElementById('generate-btn');
        const downloadBtn = document.getElementById('download-btn');
        const graphicOutput = document.getElementById('graphic-output');
        // New DOM Elements for Save/Load
        const dataTextarea = document.getElementById('data-textarea');
        const saveDataBtn = document.getElementById('save-data-btn');
        const loadDataBtn = document.getElementById('load-data-btn');

        // DOM elements for Color Customizer inputs
        const colorBg1Input = document.getElementById('color-bg1');
        const colorBg2Input = document.getElementById('color-bg2');
        const colorBg3Input = document.getElementById('color-bg3');
        const colorTitleInput = document.getElementById('color-title');
        const colorSubtitleInput = document.getElementById('color-subtitle');
        const colorRankInput = document.getElementById('color-rank');
        const colorNameInput = document.getElementById('color-name');
        const colorUsageInput = document.getElementById('color-usage');

        // Initial default data
        const defaultPokemon = [
            { name: '', displayName: '-', usage: 'XX.XX%' },
            { name: '', displayName: '-', usage: 'XX.XX%' },
            { name: '', displayName: '-', usage: 'XX.XX%' },
            { name: '', displayName: '-', usage: 'XX.XX%' },
            { name: '', displayName: '-', usage: 'XX.XX%' },
            { name: '', displayName: "-", usage: 'XX.XX%' },
            { name: '', displayName: "-", usage: 'XX.XX%' },
            { name: '', displayName: "-", usage: 'XX.XX%' },
            { name: '', displayName: '-', usage: 'XX.XX%' },
            { name: '', displayName: '-', usage: 'XX.XX%' },
        ];

        const pokemonDexNumbers = {
            "bulbasaur":1,"ivysaur":2,"venusaur":3,"charmander":4,"charmeleon":5,"charizard":6,"squirtle":7,"wartortle":8,"blastoise":9,"caterpie":10,"metapod":11,"butterfree":12,"weedle":13,"kakuna":14,"beedrill":15,"pidgey":16,"pidgeotto":17,"pidgeot":18,"rattata":19,"raticate":20,"spearow":21,"fearow":22,"ekans":23,"arbok":24,"pikachu":25,"raichu":26,"sandshrew":27,"sandslash":28,"nidoranf":29,"nidorina":30,"nidoqueen":31,"nidoranm":32,"nidorino":33,"nidoking":34,"clefairy":35,"clefable":36,"vulpix":37,"ninetales":38,"jigglypuff":39,"wigglytuff":40,"zubat":41,"golbat":42,"oddish":43,"gloom":44,"vileplume":45,"paras":46,"parasect":47,"venonat":48,"venomoth":49,"diglett":50,"dugtrio":51,"meowth":52,"persian":53,"psyduck":54,"golduck":55,"mankey":56,"primeape":57,"growlithe":58,"arcanine":59,"poliwag":60,"poliwhirl":61,"poliwrath":62,"abra":63,"kadabra":64,"alakazam":65,"machop":66,"machoke":67,"machamp":68,"bellsprout":69,"weepinbell":70,"victreebel":71,"tentacool":72,"tentacruel":73,"geodude":74,"graveler":75,"golem":76,"ponyta":77,"rapidash":78,"slowpoke":79,"slowbro":80,"magnemite":81,"magneton":82,"farfetchd":83,"doduo":84,"dodrio":85,"seel":86,"dewgong":87,"grimer":88,"muk":89,"shellder":90,"cloyster":91,"gastly":92,"haunter":93,"gengar":94,"onix":95,"drowzee":96,"hypno":97,"krabby":98,"kingler":99,"voltorb":100,"electrode":101,"exeggcute":102,"exeggutor":103,"cubone":104,"marowak":105,"hitmonlee":106,"hitmonchan":107,"lickitung":108,"koffing":109,"weezing":110,"rhyhorn":111,"rhydon":112,"chansey":113,"tangela":114,"kangaskhan":115,"horsea":116,"seadra":117,"goldeen":118,"seaking":119,"staryu":120,"starmie":121,"mrmime":122,"scyther":123,"jynx":124,"electabuzz":125,"magmar":126,"pinsir":127,"tauros":128,"magikarp":129,"gyarados":130,"lapras":131,"ditto":132,"eevee":133,"vaporeon":134,"jolteon":135,"flareon":136,"porygon":137,"omanyte":138,"omastar":139,"kabuto":140,"kabutops":141,"aerodactyl":142,"snorlax":143,"articuno":144,"zapdos":145,"moltres":146,"dratini":147,"dragonair":148,"dragonite":149,"mewtwo":150,"mew":151,"chikorita":152,"bayleef":153,"meganium":154,"cyndaquil":155,"quilava":156,"typhlosion":157,"totodile":158,"croconaw":159,"feraligatr":160,"sentret":161,"furret":162,"hoothoot":163,"noctowl":164,"ledyba":165,"ledian":166,"spinarak":167,"ariados":168,"crobat":169,"chinchou":170,"lanturn":171,"pichu":172,"cleffa":173,"igglybuff":174,"togepi":175,"togetic":176,"natu":177,"xatu":178,"mareep":179,"flaaffy":180,"ampharos":181,"bellossom":182,"marill":183,"azumarill":184,"sudowoodo":185,"politoed":186,"hoppip":187,"skiploom":188,"jumpluff":189,"aipom":190,"sunkern":191,"sunflora":192,"yanma":193,"wooper":194,"quagsire":195,"espeon":196,"umbreon":197,"murkrow":198,"slowking":199,"misdreavus":200,"unown":201,"wobbuffet":202,"girafarig":203,"pineco":204,"forretress":205,"dunsparce":206,"gligar":207,"steelix":208,"snubbull":209,"granbull":210,"qwilfish":211,"scizor":212,"shuckle":213,"heracross":214,"sneasel":215,"teddiursa":216,"ursaring":217,"slugma":218,"magcargo":219,"swinub":220,"piloswine":221,"corsola":222,"remoraid":223,"octillery":224,"delibird":225,"mantine":226,"skarmory":227,"houndour":228,"houndoom":229,"kingdra":230,"phanpy":231,"donphan":232,"porygon2":233,"stantler":234,"smeargle":235,"tyrogue":236,"hitmontop":237,"smoochum":238,"elekid":239,"magby":240,"miltank":241,"blissey":242,"raikou":243,"entei":244,"suicune":245,"larvitar":246,"pupitar":247,"tyranitar":248,"lugia":249,"hooh":250,"celebi":251,"treecko":252,"grovyle":253,"sceptile":254,"torchic":255,"combusken":256,"blaziken":257,"mudkip":258,"marshtomp":259,"swampert":260,"poochyena":261,"mightyena":262,"zigzagoon":263,"linoone":264,"wurmple":265,"silcoon":266,"beautifly":267,"cascoon":268,"dustox":269,"lotad":270,"lombre":271,"ludicolo":272,"seedot":273,"nuzleaf":274,"shiftry":275,"taillow":276,"swellow":277,"wingull":278,"pelipper":279,"ralts":280,"kirlia":281,"gardevoir":282,"surskit":283,"masquerain":284,"shroomish":285,"breloom":286,"slakoth":287,"vigoroth":288,"slaking":289,"nincada":290,"ninjask":291,"shedinja":292,"whismur":293,"loudred":294,"exploud":295,"makuhita":296,"hariyama":297,"azurill":298,"nosepass":299,"skitty":300,"delcatty":301,"sableye":302,"mawile":303,"aron":304,"lairon":305,"aggron":306,"meditite":307,"medicham":308,"electrike":309,"manectric":310,"plusle":311,"minun":312,"volbeat":313,"illumise":314,"roselia":315,"gulpin":316,"swalot":317,"carvanha":318,"sharpedo":319,"wailmer":320,"wailord":321,"numel":322,"camerupt":323,"torkoal":324,"spoink":325,"grumpig":326,"spinda":327,"trapinch":328,"vibrava":329,"flygon":330,"cacnea":331,"cacturne":332,"swablu":333,"altaria":334,"zangoose":335,"seviper":336,"lunatone":337,"solrock":338,"barboach":339,"whiscash":340,"corphish":341,"crawdaunt":342,"baltoy":343,"claydol":344,"lileep":345,"cradily":346,"anorith":347,"armaldo":348,"feebas":349,"milotic":350,"castform":351,"kecleon":352,"shuppet":353,"banette":354,"duskull":355,"dusclops":356,"tropius":357,"chimecho":358,"absol":359,"wynaut":360,"snorunt":361,"glalie":362,"spheal":363,"sealeo":364,"walrein":365,"clamperl":366,"huntail":367,"gorebyss":368,"relicanth":369,"luvdisc":370,"bagon":371,"shelgon":372,"salamence":373,"beldum":374,"metang":375,"metagross":376,"regirock":377,"regice":378,"registeel":379,"latias":380,"latios":381,"kyogre":382,"groudon":383,"rayquaza":384,"jirachi":385,"deoxys":386,"turtwig":387,"grotle":388,"torterra":389,"chimchar":390,"monferno":391,"infernape":392,"piplup":393,"prinplup":394,"empoleon":395,"starly":396,"staravia":397,"staraptor":398,"bidoof":399,"bibarel":400,"kricketot":401,"kricketune":402,"shinx":403,"luxio":404,"luxray":405,"budew":406,"roserade":407,"cranidos":408,"rampardos":409,"shieldon":410,"bastiodon":411,"burmy":412,"wormadam":413,"mothim":414,"combee":415,"vespiquen":416,"pachirisu":417,"buizel":418,"floatzel":419,"cherubi":420,"cherrim":421,"shellos":422,"gastrodon":423,"ambipom":424,"drifloon":425,"drifblim":426,"buneary":427,"lopunny":428,"mismagius":429,"honchkrow":430,"glameow":431,"purugly":432,"chingling":433,"stunky":434,"skuntank":435,"bronzor":436,"bronzong":437,"bonsly":438,"mimejr":439,"happiny":440,"chatot":441,"spiritomb":442,"gible":443,"gabite":444,"garchomp":445,"munchlax":446,"riolu":447,"lucario":448,"hippopotas":449,"hippowdon":450,"skorupi":451,"drapion":452,"croagunk":453,"toxicroak":454,"carnivine":455,"finneon":456,"lumineon":457,"mantyke":458,"snover":459,"abomasnow":460,"weavile":461,"magnezone":462,"lickilicky":463,"rhyperior":464,"tangrowth":465,"electivire":466,"magmortar":467,"togekiss":468,"yanmega":469,"leafeon":470,"glaceon":471,"gliscor":472,"mamoswine":473,"porygonz":474,"gallade":475,"probopass":476,"dusknoir":477,"froslass":478,"rotom":479,"uxie":480,"mesprit":481,"azelf":482,"dialga":483,"palkia":484,"heatran":485,"regigigas":486,"giratina":487,"cresselia":488,"phione":489,"manaphy":490,"darkrai":491,"shaymin":492,"arceus":493,"victini":494,"snivy":495,"servine":496,"serperior":497,"tepig":498,"pignite":499,"emboar":500,"oshawott":501,"dewott":502,"samurott":503,"patrat":504,"watchog":505,"lillipup":506,"herdier":507,"stoutland":508,"purrloin":509,"liepard":510,"pansage":511,"simisage":512,"pansear":513,"simisear":514,"panpour":515,"simipour":516,"munna":517,"musharna":518,"pidove":519,"tranquill":520,"unfezant":521,"blitzle":522,"zebstrika":523,"roggenrola":524,"boldore":525,"gigalith":526,"woobat":527,"swoobat":528,"drilbur":529,"excadrill":530,"audino":531,"timburr":532,"gurdurr":533,"conkeldurr":534,"tympole":535,"palpitoad":536,"seismitoad":537,"throh":538,"sawk":539,"sewaddle":540,"swadloon":541,"leavanny":542,"venipede":543,"whirlipede":544,"scolipede":545,"cottonee":546,"whimsicott":547,"petilil":548,"lilligant":549,"basculin":550,"sandile":551,"krokorok":552,"krookodile":553,"darumaka":554,"darmanitan":555,"maractus":556,"dwebble":557,"crustle":558,"scraggy":559,"scrafty":560,"sigilyph":561,"yamask":562,"cofagrigus":563,"tirtouga":564,"carracosta":565,"archen":566,"archeops":567,"trubbish":568,"garbodor":569,"zorua":570,"zoroark":571,"minccino":572,"cinccino":573,"gothita":574,"gothorita":575,"gothitelle":576,"solosis":577,"duosion":578,"reuniclus":579,"ducklett":580,"swanna":581,"vanillite":582,"vanillish":583,"vanilluxe":584,"deerling":585,"sawsbuck":586,"emolga":587,"karrablast":588,"escavalier":589,"foongus":590,"amoonguss":591,"frillish":592,"jellicent":593,"alomomola":594,"joltik":595,"galvantula":596,"ferroseed":597,"ferrothorn":598,"klink":599,"klang":600,"klinklang":601,"tynamo":602,"eelektrik":603,"eelektross":604,"elgyem":605,"beheeyem":606,"litwick":607,"lampent":608,"chandelure":609,"axew":610,"fraxure":611,"haxorus":612,"cubchoo":613,"beartic":614,"cryogonal":615,"shelmet":616,"accelgor":617,"stunfisk":618,"mienfoo":619,"mienshao":620,"druddigon":621,"golett":622,"golurk":623,"pawniard":624,"bisharp":625,"bouffalant":626,"rufflet":627,"braviary":628,"vullaby":629,"mandibuzz":630,"heatmor":631,"durant":632,"deino":633,"zweilous":634,"hydreigon":635,"larvesta":636,"volcarona":637,"cobalion":638,"terrakion":639,"virizion":640,"tornadus":641,"thundurus":642,"reshiram":643,"zekrom":644,"landorus":645,"kyurem":646,"keldeo":647,"meloetta":648,"genesect":649,"chespin":650,"quilladin":651,"chesnaught":652,"fennekin":653,"braixen":654,"delphox":655,"froakie":656,"frogadier":657,"greninja":658,"bunnelby":659,"diggersby":660,"fletchling":661,"fletchinder":662,"talonflame":663,"scatterbug":664,"spewpa":665,"vivillon":666,"litleo":667,"pyroar":668,"flabebe":669,"floette":670,"florges":671,"skiddo":672,"gogoat":673,"pancham":674,"pangoro":675,"furfrou":676,"espurr":677,"meowstic":678,"honedge":679,"doublade":680,"aegislash":681,"spritzee":682,"aromatisse":683,"swirlix":684,"slurpuff":685,"inkay":686,"malamar":687,"binacle":688,"barbaracle":689,"skrelp":690,"dragalge":691,"clauncher":692,"clawitzer":693,"helioptile":694,"heliolisk":695,"tyrunt":696,"tyrantrum":697,"amaura":698,"aurorus":699,"sylveon":700,"hawlucha":701,"dedenne":702,"carbink":703,"goomy":704,"sliggoo":705,"goodra":706,"klefki":707,"phantump":708,"trevenant":709,"pumpkaboo":710,"gourgeist":711,"bergmite":712,"avalugg":713,"noibat":714,"noivern":715,"xerneas":716,"yveltal":717,"zygarde":718,"diancie":719,"hoopa":720,"volcanion":721,"rowlet":722,"dartrix":723,"decidueye":724,"litten":725,"torracat":726,"incineroar":727,"popplio":728,"brionne":729,"primarina":730,"pikipek":731,"trumbeak":732,"toucannon":733,"yungoos":734,"gumshoos":735,"grubbin":736,"charjabug":737,"vikavolt":738,"crabrawler":739,"crabominable":740,"oricorio":741,"cutiefly":742,"ribombee":743,"rockruff":744,"lycanroc":745,"wishiwashi":746,"mareanie":747,"toxapex":748,"mudbray":749,"mudsdale":750,"dewpider":751,"araquanid":752,"fomantis":753,"lurantis":754,"morelull":755,"shiinotic":756,"salandit":757,"salazzle":758,"stufful":759,"bewear":760,"bounsweet":761,"steenee":762,"tsareena":763,"comfey":764,"oranguru":765,"passimian":766,"wimpod":767,"golisopod":768,"sandygast":769,"palossand":770,"pyukumuku":771,"typenull":772,"silvally":773,"minior":774,"komala":775,"turtonator":776,"togedemaru":777,"mimikyu":778,"bruxish":779,"drampa":780,"dhelmise":781,"jangmoo":782,"hakamoo":783,"kommoo":784,"tapukoko":785,"tapulele":786,"tapubulu":787,"tapufini":788,"cosmog":789,"cosmoem":790,"solgaleo":791,"lunala":792,"nihilego":793,"buzzwole":794,"pheromosa":795,"xurkitree":796,"celesteela":797,"kartana":798,"guzzlord":799,"necrozma":800,"magearna":801,"marshadow":802,"poipole":803,"naganadel":804,"stakataka":805,"blacephalon":806,"zeraora":807,"meltan":808,"melmetal":809,"grookey":810,"thwackey":811,"rillaboom":812,"scorbunny":813,"raboot":814,"cinderace":815,"sobble":816,"drizzile":817,"inteleon":818,"skwovet":819,"greedent":820,"rookidee":821,"corvisquire":822,"corviknight":823,"blipbug":824,"dottler":825,"orbeetle":826,"nickit":827,"thievul":828,"gossifleur":829,"eldegoss":830,"wooloo":831,"dubwool":832,"chewtle":833,"drednaw":834,"yamper":835,"boltund":836,"rolycoly":837,"carkol":838,"coalossal":839,"applin":840,"flapple":841,"appletun":842,"silicobra":843,"sandaconda":844,"cramorant":845,"arrokuda":846,"barraskewda":847,"toxel":848,"toxtricity":849,"sizzlipede":850,"centiskorch":851,"clobbopus":852,"grapploct":853,"sinistea":854,"polteageist":855,"hatenna":856,"hattrem":857,"hatterene":858,"impidimp":859,"morgrem":860,"grimmsnarl":861,"obstagoon":862,"perrserker":863,"cursola":864,"sirfetchd":865,"mrrime":866,"runerigus":867,"milcery":868,"alcremie":869,"falinks":870,"pincurchin":871,"snom":872,"frosmoth":873,"stonjourner":874,"eiscue":875,"indeedee":876,"morpeko":877,"cufant":878,"copperajah":879,"dracozolt":880,"arctozolt":881,"dracovish":882,"arctovish":883,"duraludon":884,"dreepy":885,"drakloak":886,"dragapult":887,"zacian":888,"zamazenta":889,"eternatus":890,"kubfu":891,"urshifu":892,"zarude":893,"regieleki":894,"regidrago":895,"glastrier":896,"spectrier":897,"calyrex":898,"wyrdeer":899,"kleavor":900,"ursaluna":901,"basculegion":902,"sneasler":903,"overqwil":904,"enamorus":905,"sprigatito":906,"floragato":907,"meowscarada":908,"fuecoco":909,"crocalor":910,"skeledirge":911,"quaxly":912,"quaxwell":913,"quaquaval":914,"lechonk":915,"oinkologne":916,"tarountula":917,"spidops":918,"nymble":919,"lokix":920,"pawmi":921,"pawmo":922,"pawmot":923,"tandemaus":924,"maushold":925,"fidough":926,"dachsbun":927,"smoliv":928,"dolliv":929,"arboliva":930,"squawkabilly":931,"nacli":932,"naclstack":933,"garganacl":934,"charcadet":935,"armarouge":936,"ceruledge":937,"tadbulb":938,"bellibolt":939,"wattrel":940,"kilowattrel":941,"maschiff":942,"mabosstiff":943,"shroodle":944,"grafaiai":945,"bramblin":946,"brambleghast":947,"toedscool":948,"toedscruel":949,"klawf":950,"capsakid":951,"scovillain":952,"rellor":953,"rabsca":954,"flittle":955,"espathra":956,"tinkatink":957,"tinkatuff":958,"tinkaton":959,"wiglett":960,"wugtrio":961,"bombirdier":962,"finizen":963,"palafin":964,"varoom":965,"revavroom":966,"cyclizar":967,"orthworm":968,"glimmet":969,"glimmora":970,"greavard":971,"houndstone":972,"flamigo":973,"cetoddle":974,"cetitan":975,"veluza":976,"dondozo":977,"tatsugiri":978,"annihilape":979,"clodsire":980,"farigiraf":981,"dudunsparce":982,"kingambit":983,"greattusk":984,"screamtail":985,"brutebonnet":986,"fluttermane":987,"slitherwing":988,"sandyshocks":989,"irontreads":990,"ironbundle":991,"ironhands":992,"ironjugulis":993,"ironmoth":994,"ironthorns":995,"frigibax":996,"arctibax":997,"baxcalibur":998,"gimmighoul":999,"gholdengo":1000,"wochien":1001,"chienpao":1002,"tinglu":1003,"chiyu":1004,"roaringmoon":1005,"ironvaliant":1006,"koraidon":1007,"miraidon":1008,"walkingwake":1009,"ironleaves":1010,"dipplin":1011,"poltchageist":1012,"sinistcha":1013,"okidogi":1014,"munkidori":1015,"fezandipiti":1016,"ogerpon":1017,"archaludon":1018,"hydrapple":1019,"gougingfire":1020,"ragingbolt":1021,"ironboulder":1022,"ironcrown":1023,"terapagos":1024,"pecharunt": 1032 + 1,"egg": 1032 + 1,"pikachubelle": 1032 + 2,"pikachulibre": 1032 + 3,"pikachuphd": 1032 + 4,"pikachupopstar": 1032 + 5,"pikachurockstar": 1032 + 6,"pikachucosplay": 1032 + 7,"unownexclamation": 1032 + 8,"unownquestion": 1032 + 9,"unownb": 1032 + 10,"unownc": 1032 + 11,"unownd": 1032 + 12,"unowne": 1032 + 13,"unownf": 1032 + 14,"unowng": 1032 + 15,"unownh": 1032 + 16,"unowni": 1032 + 17,"unownj": 1032 + 18,"unownk": 1032 + 19,"unownl": 1032 + 20,"unownm": 1032 + 21,"unownn": 1032 + 22,"unowno": 1032 + 23,"unownp": 1032 + 24,"unownq": 1032 + 25,"unownr": 1032 + 26,"unowns": 1032 + 27,"unownt": 1032 + 28,"unownu": 1032 + 29,"unownv": 1032 + 30,"unownw": 1032 + 31,"unownx": 1032 + 32,"unowny": 1032 + 33,"unownz": 1032 + 34,"castformrainy": 1032 + 35,"castformsnowy": 1032 + 36,"castformsunny": 1032 + 37,"deoxysattack": 1032 + 38,"deoxysdefense": 1032 + 39,"deoxysspeed": 1032 + 40,"burmysandy": 1032 + 41,"burmytrash": 1032 + 42,"wormadamsandy": 1032 + 43,"wormadamtrash": 1032 + 44,"cherrimsunshine": 1032 + 45,"shelloseast": 1032 + 46,"gastrodoneast": 1032 + 47,"rotomfan": 1032 + 48,"rotomfrost": 1032 + 49,"rotomheat": 1032 + 50,"rotommow": 1032 + 51,"rotomwash": 1032 + 52,"giratinaorigin": 1032 + 53,"shayminsky": 1032 + 54,"unfezantf": 1032 + 55,"basculinbluestriped": 1032 + 56,"darmanitanzen": 1032 + 57,"deerlingautumn": 1032 + 58,"deerlingsummer": 1032 + 59,"deerlingwinter": 1032 + 60,"sawsbuckautumn": 1032 + 61,"sawsbucksummer": 1032 + 62,"sawsbuckwinter": 1032 + 63,"frillishf": 1032 + 64,"jellicentf": 1032 + 65,"tornadustherian": 1032 + 66,"thundurustherian": 1032 + 67,"landorustherian": 1032 + 68,"kyuremblack": 1032 + 69,"kyuremwhite": 1032 + 70,"keldeoresolute": 1032 + 71,"meloettapirouette": 1032 + 72,"vivillonarchipelago": 1032 + 73,"vivilloncontinental": 1032 + 74,"vivillonelegant": 1032 + 75,"vivillonfancy": 1032 + 76,"vivillongarden": 1032 + 77,"vivillonhighplains": 1032 + 78,"vivillonicysnow": 1032 + 79,"vivillonjungle": 1032 + 80,"vivillonmarine": 1032 + 81,"vivillonmodern": 1032 + 82,"vivillonmonsoon": 1032 + 83,"vivillonocean": 1032 + 84,"vivillonpokeball": 1032 + 85,"vivillonpolar": 1032 + 86,"vivillonriver": 1032 + 87,"vivillonsandstorm": 1032 + 88,"vivillonsavanna": 1032 + 89,"vivillonsun": 1032 + 90,"vivillontundra": 1032 + 91,"pyroarf": 1032 + 92,"flabebeblue": 1032 + 93,"flabebeorange": 1032 + 94,"flabebewhite": 1032 + 95,"flabebeyellow": 1032 + 96,"floetteblue": 1032 + 97,"floetteeternal": 1032 + 98,"floetteorange": 1032 + 99,"floettewhite": 1032 + 100,"floetteyellow": 1032 + 101,"florgesblue": 1032 + 102,"florgesorange": 1032 + 103,"florgeswhite": 1032 + 104,"florgesyellow": 1032 + 105,"furfroudandy": 1032 + 106,"furfroudebutante": 1032 + 107,"furfroudiamond": 1032 + 108,"furfrouheart": 1032 + 109,"furfroukabuki": 1032 + 110,"furfroulareine": 1032 + 111,"furfroumatron": 1032 + 112,"furfroupharaoh": 1032 + 113,"furfroustar": 1032 + 114,"meowsticf": 1032 + 115,"aegislashblade": 1032 + 116,"xerneasneutral": 1032 + 117,"hoopaunbound": 1032 + 118,"rattataalola": 1032 + 119,"raticatealola": 1032 + 120,"raichualola": 1032 + 121,"sandshrewalola": 1032 + 122,"sandslashalola": 1032 + 123,"vulpixalola": 1032 + 124,"ninetalesalola": 1032 + 125,"diglettalola": 1032 + 126,"dugtrioalola": 1032 + 127,"meowthalola": 1032 + 128,"persianalola": 1032 + 129,"geodudealola": 1032 + 130,"graveleralola": 1032 + 131,"golemalola": 1032 + 132,"grimeralola": 1032 + 133,"mukalola": 1032 + 134,"exeggutoralola": 1032 + 135,"marowakalola": 1032 + 136,"greninjaash": 1032 + 137,"zygarde10": 1032 + 138,"zygardecomplete": 1032 + 139,"oricoriopompom": 1032 + 140,"oricoriopau": 1032 + 141,"oricoriosensu": 1032 + 142,"lycanrocmidnight": 1032 + 143,"wishiwashischool": 1032 + 144,"miniormeteor": 1032 + 145,"miniororange": 1032 + 146,"minioryellow": 1032 + 147,"miniorgreen": 1032 + 148,"miniorblue": 1032 + 149,"miniorindigo": 1032 + 150,"miniorviolet": 1032 + 151,"magearnaoriginal": 1032 + 152,"pikachuoriginal": 1032 + 153,"pikachuhoenn": 1032 + 154,"pikachusinnoh": 1032 + 155,"pikachuunova": 1032 + 156,"pikachukalos": 1032 + 157,"pikachualola": 1032 + 158,"pikachupartner": 1032 + 159,"lycanrocdusk": 1032 + 160,"necrozmaduskmane": 1032 + 161,"necrozmadawnwings": 1032 + 162,"necrozmaultra": 1032 + 163,"pikachustarter": 1032 + 164,"eeveestarter": 1032 + 165,"meowthgalar": 1032 + 166,"ponytagalar": 1032 + 167,"rapidashgalar": 1032 + 168,"farfetchdgalar": 1032 + 169,"weezinggalar": 1032 + 170,"mrmimegalar": 1032 + 171,"corsolagalar": 1032 + 172,"zigzagoongalar": 1032 + 173,"linoonegalar": 1032 + 174,"darumakagalar": 1032 + 175,"darmanitangalar": 1032 + 176,"darmanitangalarzen": 1032 + 177,"yamaskgalar": 1032 + 178,"stunfiskgalar": 1032 + 179,"cramorantgulping": 1032 + 180,"cramorantgorging": 1032 + 181,"toxtricitylowkey": 1032 + 182,"alcremierubycream": 1032 + 183,"alcremiematchacream": 1032 + 184,"alcremiemintcream": 1032 + 185,"alcremielemoncream": 1032 + 186,"alcremiesaltedcream": 1032 + 187,"alcremierubyswirl": 1032 + 188,"alcremiecaramelswirl": 1032 + 189,"alcremierainbowswirl": 1032 + 190,"eiscuenoice": 1032 + 191,"indeedeef": 1032 + 192,"morpekohangry": 1032 + 193,"zaciancrowned": 1032 + 194,"zamazentacrowned": 1032 + 195,"slowpokegalar": 1032 + 196,"slowbrogalar": 1032 + 197,"zarudedada": 1032 + 198,"pikachuworld": 1032 + 199,"articunogalar": 1032 + 200,"zapdosgalar": 1032 + 201,"moltresgalar": 1032 + 202,"slowkinggalar": 1032 + 203,"calyrexice": 1032 + 204,"calyrexshadow": 1032 + 205,"growlithehisui": 1032 + 206,"arcaninehisui": 1032 + 207,"voltorbhisui": 1032 + 208,"electrodehisui": 1032 + 209,"typhlosionhisui": 1032 + 210,"qwilfishhisui": 1032 + 211,"sneaselhisui": 1032 + 212,"samurotthisui": 1032 + 213,"lilliganthisui": 1032 + 214,"zoruahisui": 1032 + 215,"zoroarkhisui": 1032 + 216,"braviaryhisui": 1032 + 217,"sliggoohisui": 1032 + 218,"goodrahisui": 1032 + 219,"avalugghisui": 1032 + 220,"decidueyehisui": 1032 + 221,"basculegionf": 1032 + 222,"enamorustherian": 1032 + 223,"taurospaldeacombat": 1032 + 224,"taurospaldeablaze": 1032 + 225,"taurospaldeaaqua": 1032 + 226,"wooperpaldea": 1032 + 227,"oinkolognef": 1032 + 228,"palafinhero": 1032 + 229,"mausholdfour": 1032 + 230,"tatsugiridroopy": 1032 + 231,"tatsugiristretchy": 1032 + 232,"squawkabillyblue": 1032 + 233,"squawkabillyyellow": 1032 + 234,"squawkabillywhite": 1032 + 235,"gimmighoulroaming": 1032 + 236,"dialgaorigin": 1032 + 237,"palkiaorigin": 1032 + 238,"basculinwhitestriped": 1032 + 239,"ursalunabloodmoon": 1032 + 240,"ogerponwellspring": 1032 + 241,"ogerponhearthflame": 1032 + 242,"ogerponcornerstone": 1032 + 243,"terapagosterastal": 1032 + 244,"terapagosstellar": 1032 + 245,"arceusbug": 1032 + 246,"arceusdark": 1032 + 247,"arceusdragon": 1032 + 248,"arceuselectric": 1032 + 249,"arceusfairy": 1032 + 250,"arceusfighting": 1032 + 251,"arceusfire": 1032 + 252,"arceusflying": 1032 + 253,"arceusghost": 1032 + 254,"arceusgrass": 1032 + 255,"arceusground": 1032 + 256,"arceusice": 1032 + 257,"arceuspoison": 1032 + 258,"arceuspsychic": 1032 + 259,"arceusrock": 1032 + 260,"arceussteel": 1032 + 261,"arceuswater": 1032 + 262,"genesectdouse": 1032 + 263,"genesectshock": 1032 + 264,"genesectburn": 1032 + 265,"genesectchill": 1032 + 266,"silvallybug": 1032 + 267,"silvallydark": 1032 + 268,"silvallydragon": 1032 + 269,"silvallyelectric": 1032 + 270,"silvallyfairy": 1032 + 271,"silvallyfighting": 1032 + 272,"silvallyfire": 1032 + 273,"silvallyflying": 1032 + 274,"silvallyghost": 1032 + 275,"silvallygrass": 1032 + 276,"silvallyground": 1032 + 277,"silvallyice": 1032 + 278,"silvallypoison": 1032 + 279,"silvallypsychic": 1032 + 280,"silvallyrock": 1032 + 281,"silvallysteel": 1032 + 282,"silvallywater": 1032 + 283,"greninjabond": 658,"gumshoostotem": 735,"raticatealolatotem": 1032 + 120,"marowakalolatotem": 1032 + 136,"araquanidtotem": 752,"lurantistotem": 754,"salazzletotem": 758,"vikavolttotem": 738,"togedemarutotem": 777,"mimikyutotem": 778,"mimikyubustedtotem": 778,"ribombeetotem": 743,"kommoototem": 784,"sinisteaantique": 854,"polteageistantique": 855,"poltchageistartisan": 1012,"sinistchamasterpiece": 1013,"ogerpontealtera": 1017,"ogerponwellspringtera": 1032 + 241,"ogerponhearthflametera": 1032 + 242,"ogerponcornerstonetera": 1032 + 243,"toxtricitylowkeygmax": 1320 + 69,"venusaurmega": 1320 + 0,"charizardmegax": 1320 + 1,"charizardmegay": 1320 + 2,"blastoisemega": 1320 + 3,"beedrillmega": 1320 + 4,"pidgeotmega": 1320 + 5,"alakazammega": 1320 + 6,"slowbromega": 1320 + 7,"gengarmega": 1320 + 8,"kangaskhanmega": 1320 + 9,"pinsirmega": 1320 + 10,"gyaradosmega": 1320 + 11,"aerodactylmega": 1320 + 12,"mewtwomegax": 1320 + 13,"mewtwomegay": 1320 + 14,"ampharosmega": 1320 + 15,"steelixmega": 1320 + 16,"scizormega": 1320 + 17,"heracrossmega": 1320 + 18,"houndoommega": 1320 + 19,"tyranitarmega": 1320 + 20,"sceptilemega": 1320 + 21,"blazikenmega": 1320 + 22,"swampertmega": 1320 + 23,"gardevoirmega": 1320 + 24,"sableyemega": 1320 + 25,"mawilemega": 1320 + 26,"aggronmega": 1320 + 27,"medichammega": 1320 + 28,"manectricmega": 1320 + 29,"sharpedomega": 1320 + 30,"cameruptmega": 1320 + 31,"altariamega": 1320 + 32,"banettemega": 1320 + 33,"absolmega": 1320 + 34,"glaliemega": 1320 + 35,"salamencemega": 1320 + 36,"metagrossmega": 1320 + 37,"latiasmega": 1320 + 38,"latiosmega": 1320 + 39,"kyogreprimal": 1320 + 40,"groudonprimal": 1320 + 41,"rayquazamega": 1320 + 42,"lopunnymega": 1320 + 43,"garchompmega": 1320 + 44,"lucariomega": 1320 + 45,"abomasnowmega": 1320 + 46,"gallademega": 1320 + 47,"audinomega": 1320 + 48,"dianciemega": 1320 + 49,"charizardgmax": 1320 + 50,"butterfreegmax": 1320 + 51,"pikachugmax": 1320 + 52,"meowthgmax": 1320 + 53,"machampgmax": 1320 + 54,"gengargmax": 1320 + 55,"kinglergmax": 1320 + 56,"laprasgmax": 1320 + 57,"eeveegmax": 1320 + 58,"snorlaxgmax": 1320 + 59,"garbodorgmax": 1320 + 60,"melmetalgmax": 1320 + 61,"corviknightgmax": 1320 + 62,"orbeetlegmax": 1320 + 63,"drednawgmax": 1320 + 64,"coalossalgmax": 1320 + 65,"flapplegmax": 1320 + 66,"appletungmax": 1320 + 67,"sandacondagmax": 1320 + 68,"toxtricitygmax": 1320 + 69,"centiskorchgmax": 1320 + 70,"hatterenegmax": 1320 + 71,"grimmsnarlgmax": 1320 + 72,"alcremiegmax": 1320 + 73,"copperajahgmax": 1320 + 74,"duraludongmax": 1320 + 75,"eternatuseternamax": 1320 + 76,"venusaurgmax": 1320 + 77,"blastoisegmax": 1320 + 78,"rillaboomgmax": 1320 + 79,"cinderacegmax": 1320 + 80,"inteleongmax": 1320 + 81,"urshifugmax": 1320 + 82,"urshifurapidstrikegmax": 1320 + 83,"clefablemega": 1320 + 84,"victreebelmega": 1320 + 85,"starmiemega": 1320 + 86,"dragonitemega": 1320 + 87,"meganiummega": 1320 + 88,"feraligatrmega": 1320 + 89,"skarmorymega": 1320 + 90,"froslassmega": 1320 + 91,"emboarmega": 1320 + 92,"excadrillmega": 1320 + 93,"scolipedemega": 1320 + 94,"scraftymega": 1320 + 95,"eelektrossmega": 1320 + 96,"chandeluremega": 1320 + 97,"chesnaughtmega": 1320 + 98,"delphoxmega": 1320 + 99,"greninjamega": 1320 + 100,"pyroarmega": 1320 + 101,"floettemega": 1320 + 102,"malamarmega": 1320 + 103,"barbaraclemega": 1320 + 104,"dragalgemega": 1320 + 105,"hawluchamega": 1320 + 106,"zygardemega": 1320 + 107,"drampamega": 1320 + 108,"falinksmega": 1320 + 109,"syclant": 1548 + 0,"revenankh": 1548 + 1,"pyroak": 1548 + 2,"fidgit": 1548 + 3,"stratagem": 1548 + 4,"arghonaut": 1548 + 5,"kitsunoh": 1548 + 6,"cyclohm": 1548 + 7,"colossoil": 1548 + 8,"krilowatt": 1548 + 9,"voodoom": 1548 + 10,"tomohawk": 1548 + 11,"necturna": 1548 + 12,"mollux": 1548 + 13,"aurumoth": 1548 + 14,"malaconda": 1548 + 15,"cawmodore": 1548 + 16,"volkraken": 1548 + 17,"plasmanta": 1548 + 18,"naviathan": 1548 + 19,"crucibelle": 1548 + 20,"crucibellemega": 1548 + 21,"kerfluffle": 1548 + 22,"pajantom": 1548 + 23,"jumbao": 1548 + 24,"caribolt": 1548 + 25,"smokomodo": 1548 + 26,"snaelstrom": 1548 + 27,"equilibra": 1548 + 28,"astrolotl": 1548 + 29,"miasmaw": 1548 + 30,"chromera": 1548 + 31,"venomicon": 1548 + 32,"venomiconepilogue": 1548 + 33,"saharaja": 1548 + 34,"hemogoblin": 1548 + 35,"syclar": 1548 + 36,"embirch": 1548 + 37,"flarelm": 1548 + 38,"breezi": 1548 + 39,"scratchet": 1548 + 40,"necturine": 1548 + 41,"cupra": 1548 + 42,"argalis": 1548 + 43,"brattler": 1548 + 44,"cawdet": 1548 + 45,"volkritter": 1548 + 46,"snugglow": 1548 + 47,"floatoy": 1548 + 48,"caimanoe": 1548 + 49,"pluffle": 1548 + 50,"rebble": 1548 + 51,"tactite": 1548 + 52,"privatyke": 1548 + 53,"nohface": 1548 + 54,"monohm": 1548 + 55,"duohm": 1548 + 56,"protowatt": 1548 + 57,"voodoll": 1548 + 58,"mumbao": 1548 + 59,"fawnifer": 1548 + 60,"electrelk": 1548 + 61,"smogecko": 1548 + 62,"smoguana": 1548 + 63,"swirlpool": 1548 + 64,"coribalis": 1548 + 65,"justyke": 1548 + 66,"solotl": 1548 + 67,"miasmite": 1548 + 68,"dorsoil": 1548 + 69,"saharascal": 1548 + 70,"ababo": 1548 + 71,"scattervein": 1548 + 72,"cresceidon": 1548 + 73,"chuggalong": 1548 + 74,"shox": 1548 + 75,"chuggon": 1548 + 76,"draggalong": 1548 + 77,"ramnarok": 1548 + 78,"ramnarokradiant": 1548 + 79
        };

        // --- Functions ---
        function escapeHtml(str) {
          if (str === null || str === undefined) return '';
          return String(str)
            .replace(/&/g, '&amp;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;')
            .replace(/\"/g, '&quot;')
            .replace(/'/g, '&#39;');
        }
        
        // take in the user input string (as typed)
        // display: the uppercase text (usually original.toUpperCase())
        // returns HTML string where characters that were uppercase in `original` are wrapped in .cap
        function wrapUserCaps(original, display) {
          const orig = String(original || '');
          const disp = String(display || orig.toUpperCase());
          let out = '';
          for (let i = 0; i < disp.length; i++) {
            const dChar = disp[i];
            const oChar = orig[i] || '';
            const escaped = escapeHtml(dChar);
            // Treat letters typed uppercase OR digits typed by the user as "capital"
            const isUserUpper =
              oChar &&
              (
                // uppercase letter check
                (oChar === oChar.toUpperCase() && oChar !== oChar.toLowerCase())
                ||
                // digit check
                /\d/.test(oChar)
              );
            if (isUserUpper) {
              out += `<span class="cap">${escaped}</span>`;
            } else {
              out += escaped;
            }
          }
          return out;
        }

        function cleanPokemonName(name) {
            return name.toLowerCase().replace(/\s+/g, '-').replace(/[^a-z0-9-]/g, '');
        }

        // Updated createPokemonHTML to accept rankColor, nameColor, usageColor
        function createPokemonHTML(pokemon, rank, rankColor, nameColor, usageColor) {
            const cleanedName = cleanPokemonName(pokemon.name || pokemon.displayName); // Use sprite name if available, else clean display name
            const spriteUrl = `https://generationssd.co.uk/sprites/home-centered/${cleanedName}.png`;
            const placeholderUrl = `https://generationssd.co.uk/sprites/home-centered/unown-question.png`;

            // Top 10 have a different, larger layout
            if (rank <= 10) {
                return `
                    <div class="flex items-center space-x-4 w-full">
                        <div class="w-20 flex items-end justify-center">
                          <span class="text-4xl mr-1" style="color: ${rankColor};">#</span>
                          <span class="text-6xl font-extrabold" style="color: ${rankColor};">${rank}</span>
                      </div>
                        <img 
                            src="${spriteUrl}" 
                            onerror="this.onerror=null;this.src='${placeholderUrl}';" 
                            alt="${pokemon.displayName}"
                            class="w-20 h-20 object-contain pokemon-sprite drop-shadow-lg" 
                        >
                        <div class="flex flex-col top-pokemon-text">
                            <p class="text-2xl uppercase font-bold tracking-wider" style="color: ${nameColor};">${wrapUserCaps(pokemon.displayName, (pokemon.displayName || '').toUpperCase())}</p>
                            <p class="text-xl font-semibold" style="color: ${usageColor};">${escapeHtml(pokemon.usage)}</p>
                        </div>
                    </div>
                `;
            } 
            // The rest have a smaller layout
            else {
                return `
                    <div class="flex items-center space-x-2">
                         <div class="w-12 flex items-center justify-center">
                            <span class="text-xs mr-1" style="color: ${rankColor};">#</span>
                            <span class="text-2xl font-bold" style="color: ${rankColor};">${rank}</span>
                        </div>
                        <img 
                            src="${spriteUrl}" 
                            onerror="this.onerror=null;this.src='${placeholderUrl}';" 
                            alt="${pokemon.displayName}"
                            class="w-40 h-40 object-contain pokemon-sprite drop-shadow-md"
                        >
                    </div>
                `;
            }
        }

        // Updated createMiniIconHTML to accept rankColor
        function createMiniIconHTML(displayName, dexNumber, rank, rankColor) {
            const { left, top } = getIconPosition(dexNumber);

            return `
                <div class="flex items-center space-x-2">
                    <div class="w-12 flex items-center justify-center">
                      <span class="text-xs mr-1" style="color: ${rankColor};">#</span>
                      <span class="text-lg font-bold" style="color: ${rankColor};">${rank}</span>
                  </div>
                    <span 
                        class="picon" 
                        style="background-position: ${left}px ${top}px;"
                        title="${displayName}"
                    ></span>
                </div>
            `;
        }

        function getIconPosition(dexNumber) {
            const ICON_WIDTH = 40;
            const ICON_HEIGHT = 30;

            // 12 icons per row
            const col = dexNumber % 12;
            const row = Math.floor(dexNumber / 12);

            return {
                left: -(col * ICON_WIDTH),
                top: -(row * ICON_HEIGHT)
            };
        }

        function generateGraphic() {
            const title = titleTextInput.value;
            const subtitle = subtitleTextInput.value;
            const displayTitle = wrapUserCaps(title, title.toUpperCase());
            const displaySubtitle = wrapUserCaps(subtitle, subtitle.toUpperCase());
            const count = parseInt(pokemonCountInput.value, 10);

            const pokemonData = [];
            for (let i = 0; i < count; i++) {
                const displayNameInput = document.getElementById(`pokemon-display-name-${i}`);
                const spriteNameInput = document.getElementById(`pokemon-sprite-name-${i}`);
                const usageInput = document.getElementById(`pokemon-usage-${i}`);
                if (displayNameInput && spriteNameInput && usageInput) {
                    pokemonData.push({
                        name: spriteNameInput.value,
                        displayName: displayNameInput.value,
                        usage: usageInput.value,
                    });
                }
            }

            // Grab colors from inputs
            const bg1 = colorBg1Input.value;
            const bg2 = colorBg2Input.value;
            const bg3 = colorBg3Input.value;
            const titleColor = colorTitleInput.value;
            const subtitleColor = colorSubtitleInput.value;
            const rankColor = colorRankInput.value;
            const nameColor = colorNameInput.value;
            const usageColor = colorUsageInput.value;

            // Set background gradient dynamically
            graphicOutput.style.background = `linear-gradient(145deg, ${bg1}, ${bg2}, ${bg3})`;

            // Prepare two columns for the top 10
            let top10_left = '';
            let top10_right = '';
            for (let i = 0; i < 5 && i < pokemonData.length; i++) {
                top10_left += createPokemonHTML(pokemonData[i], i + 1, rankColor, nameColor, usageColor);
            }
            for (let i = 5; i < 10 && i < pokemonData.length; i++) {
                top10_right += createPokemonHTML(pokemonData[i], i + 1, rankColor, nameColor, usageColor);
            }

            let remainingGrid = '';
            for (let i = 10; i < pokemonData.length; i++) {
                remainingGrid += createMiniIconHTML(
                  pokemonData[i].displayName, 
                  pokemonDexNumbers[pokemonData[i].name.replace(/-/g, '')] || 0, // fallback 0 if missing
                  i + 1,
                  rankColor
                );
            }

            graphicOutput.innerHTML = `
                <div class="space-y-6">
                    <!-- Title Section -->
                    <div class="text-center">
                        <h2 class="text-5xl font-extrabold tracking-wide" style="color: ${titleColor};">${displayTitle}</h2>
                        <h3 class="text-3xl font-bold" style="color: ${subtitleColor};">${displaySubtitle}</h3>
                    </div>
                    
                    <!-- Top 10 Pokémon Grid Split -->
                    <div class="grid grid-cols-2 gap-4">
                        <div class="flex flex-col space-y-4">
                            ${top10_left}
                        </div>
                        <div class="flex flex-col space-y-4">
                            ${top10_right}
                        </div>
                    </div>
                    
                    <!-- Remaining Pokémon -->
                    ${count > 10 ? `
                    <div class="grid grid-cols-5 gap-2 pt-4 border-t-2 border-white border-opacity-20">
                        ${remainingGrid}
                    </div>
                    ` : ''}
                </div>
            `;
        }

        // Modified updatePokemonInputs to accept optional loaded data
        function updatePokemonInputs(loadedData = null) {
            const count = parseInt(pokemonCountInput.value, 10);
            const existingPokemonData = [];

            // First, read existing data from the current inputs if they exist
            for (let i = 0; i < pokemonInputsContainer.children.length; i++) {
                const displayNameInput = document.getElementById(`pokemon-display-name-${i}`);
                const spriteNameInput = document.getElementById(`pokemon-sprite-name-${i}`);
                const usageInput = document.getElementById(`pokemon-usage-${i}`);
                if (displayNameInput && spriteNameInput && usageInput) {
                    existingPokemonData.push({
                        name: spriteNameInput.value,
                        displayName: displayNameInput.value,
                        usage: usageInput.value,
                    });
                }
            }

            pokemonInputsContainer.innerHTML = ''; // Clear existing inputs

            for (let i = 0; i < count; i++) {
                let dataToUse;
                if (loadedData && loadedData[i]) {
                    dataToUse = loadedData[i]; // Use loaded data if provided
                } else if (existingPokemonData[i]) {
                    dataToUse = existingPokemonData[i]; // Otherwise, preserve existing data
                } else {
                    // Fallback to defaultPokemon or empty if neither loaded nor existing
                    dataToUse = defaultPokemon[i] || { name: '', displayName: '', usage: '' };
                }
                
                const inputGroup = document.createElement('div');
                inputGroup.className = 'ps-input-block space-y-2';
                inputGroup.innerHTML = `
                    <p class="text-md font-bold text-gray-800">Pokémon #${i + 1}</p>
                     <div>
                        <label for="pokemon-display-name-${i}" class="block text-xs font-medium text-gray-600">Display Name</label>
                        <input type="text" id="pokemon-display-name-${i}" placeholder="e.g. Silvally-D" class="w-full p-1 border border-gray-300 rounded-md" value="${dataToUse.displayName || ''}">
                    </div>
                    <div>
                        <label for="pokemon-sprite-name-${i}" class="block text-xs font-medium text-gray-600">Sprite Name (for image)</label>
                        <input type="text" id="pokemon-sprite-name-${i}" placeholder="e.g. Silvally-Dark" class="w-full p-1 border border-gray-300 rounded-md" value="${dataToUse.name || cleanPokemonName(dataToUse.displayName || '')}">
                    </div>
                    <div>
                        <label for="pokemon-usage-${i}" class="block text-xs font-medium text-gray-600">Usage %</label>
                        <input type="text" id="pokemon-usage-${i}" placeholder="e.g. 16.70%" class="w-full p-1 border border-gray-300 rounded-md" value="${dataToUse.usage || ''}">
                    </div>
                `;
                pokemonInputsContainer.appendChild(inputGroup);
            }
        }

        function downloadGraphic() {
            return snapdom.download(graphicOutput, {
                filename: cleanPokemonName(titleTextInput?.value || ''),
                scale: 2,
                embedFonts: true,
                localFonts: [{
                    family: 'League Spartan',
                    src: 'https://fonts.gstatic.com/s/leaguespartan/v15/kJEqBuEW6A0lliaV_m88ja5TwvZwLZk.woff2',
                    weight: 700,
                }],
            });
        }

        // Save Data Function
        function saveData() {
            const count = parseInt(pokemonCountInput.value, 10);
            let dataString = "";
            for (let i = 0; i < count; i++) {
                const displayNameInput = document.getElementById(`pokemon-display-name-${i}`);
                const usageInput = document.getElementById(`pokemon-usage-${i}`);
                if (displayNameInput && usageInput) {
                    // Remove '%' from usage if present, as the example doesn't have it
                    const usageValue = usageInput.value.replace('%', '');
                    dataString += `${displayNameInput.value} ${usageValue}\n`;
                }
            }
            dataTextarea.value = dataString.trim(); // Trim last newline
        }

        // New Load Data Function
        function loadData() {
            const dataString = dataTextarea.value.trim();
            if (!dataString) {
                alert("Please paste data into the text area to load.");
                return;
            }

            const lines = dataString.split('\n').filter(line => line.trim() !== '');
            const loadedPokemon = [];

            lines.forEach(line => {
                const parts = line.trim().split(/\s+/); // Split by one or more spaces
                if (parts.length >= 2) {
                    const usage = parts[parts.length - 1]; // Last part is usage
                    const displayName = parts.slice(0, -1).join(' '); // Rest is display name
                    loadedPokemon.push({
                        name: cleanPokemonName(displayName), // Sprite name derived from display name
                        displayName: displayName,
                        usage: usage.endsWith('%') ? usage : `${usage}%`, // Add '%' if missing
                    });
                }
            });

            if (loadedPokemon.length > 0) {
                pokemonCountInput.value = loadedPokemon.length;
                // Call updatePokemonInputs with the loaded data
                updatePokemonInputs(loadedPokemon);
            } else {
                alert("No valid Pokémon data found in the text area.");
            }
        }

        // --- Event Listeners ---
        pokemonCountInput.addEventListener('change', () => {
            updatePokemonInputs();
            generateGraphic();
        });
        generateBtn.addEventListener('click', generateGraphic);
        downloadBtn.addEventListener('click', downloadGraphic);
        saveDataBtn.addEventListener('click', saveData);
        loadDataBtn.addEventListener('click', loadData);

        

        // --- Initial Load ---
        updatePokemonInputs();
        generateGraphic();

    </script>
</body>
</html>
